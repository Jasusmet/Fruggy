<div class="container" th:fragment="inicio">
    <section id="recentProducts" class="container my-5">
        <h2>Productos Más Recientes</h2>
        <div id="recentProductsCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <!-- Aquí se generarán los items del carrusel mediante Thymeleaf -->
                <div class="carousel-item active">
                    <div class="d-flex">
                        <!-- Producto 1 -->
                        <a th:href="@{/productos/detalles/{id}(id=${productosNuevos[0].id})}" class="card"
                           style="width: 18rem; text-decoration: none;">
                            <img th:src="@{'/imagenes/' + ${productosNuevos[0].imagenes[0].rutaImagen}}"
                                 class="card-img-top" alt="Imagen del Producto">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${productosNuevos[0].nombreProducto}"></h5>
                                <p class="card-text">
                                    <strong>Precio:</strong> <span
                                        th:text="${#numbers.formatDecimal(productosNuevos[0].precios[0].valor, 1, 2) + ' €'}"></span><br>
                                    <strong>Supermercado:</strong> <span
                                        th:text="${productosNuevos[0].precios[0].supermercado.nombreSuper}">Nombre del Supermercado</span>
                                </p>
                            </div>
                        </a>
                        <!-- Producto 2 -->
                        <a th:href="@{/productos/detalles/{id}(id=${productosNuevos[1].id})}" class="card"
                           style="width: 18rem; text-decoration: none;">
                            <img th:src="@{'/imagenes/' + ${productosNuevos[1].imagenes[0].rutaImagen}}"
                                 class="card-img-top" alt="Imagen del Producto">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${productosNuevos[1].nombreProducto}"></h5>
                                <p class="card-text">
                                    <strong>Precio:</strong> <span
                                        th:text="${#numbers.formatDecimal(productosNuevos[1].precios[0].valor, 1, 2) + ' €'}"></span><br>
                                    <strong>Supermercado:</strong> <span
                                        th:text="${productosNuevos[1].precios[0].supermercado.nombreSuper}">Nombre del Supermercado</span>
                                </p>
                            </div>
                        </a>
                        <!-- Producto 3 -->
                        <a th:href="@{/productos/detalles/{id}(id=${productosNuevos[2].id})}" class="card"
                           style="width: 18rem; text-decoration: none;">
                            <img th:src="@{'/imagenes/' + ${productosNuevos[2].imagenes[0].rutaImagen}}"
                                 class="card-img-top" alt="Imagen del Producto">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${productosNuevos[2].nombreProducto}"></h5>
                                <p class="card-text">
                                    <strong>Precio:</strong> <span
                                        th:text="${#numbers.formatDecimal(productosNuevos[2].precios[0].valor, 1, 2) + ' €'}"></span><br>
                                    <strong>Supermercado:</strong> <span
                                        th:text="${productosNuevos[2].precios[0].supermercado.nombreSuper}">Nombre del Supermercado</span>
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Ubicación -->
    <section id="location" class="container my-5">
        <h2>¿Dónde Estamos?</h2>
        <div class="row">
            <div class="col-md-6">
                <p>Estamos ubicados en el corazón de la ciudad. Puedes encontrarnos en:</p>
                <address>
                    <strong>Nombre de la Empresa</strong><br>
                    Calle Ejemplo, 123<br>
                    Ciudad, País<br>
                    <a href="mailto:info@empresa.com">info@empresa.com</a><br>
                    Tel: +123 456 789
                </address>
            </div>
            <div class="col-md-6">
                <div id="map" class="map-container"></div>
            </div>
        </div>
    </section>


    <!-- Sección de Descripción -->
    <section id="description" class="container my-5">
        <h2>Sobre Nosotros</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore
            et dolore
            magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea
            commodo consequat.</p>
    </section>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var map = L.map('map').setView([37.2614, -6.9457], 15); // Coordenadas para Huelva, España

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            L.marker([37.2614, -6.9457]).addTo(map)
                .bindPopup('Ubicación de la empresa.')
                .openPopup();

            // Ajusta el tamaño del mapa después de que se haya cargado
            map.invalidateSize();
        });

    </script>
</div>